<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Card√°pio do dia - Sabor do Tempero">
  <meta name="theme-color" content="#C99548">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="default">
  <meta name="apple-mobile-web-app-title" content="Sabor do Tempero">

  <title>Sabor do Tempero - Card√°pio do Dia</title>

  <link rel="manifest" href="/manifest.json">
  <link rel="icon" type="image/png" href="/assets/icons/icon-192.png">
  <link rel="apple-touch-icon" href="/assets/icons/icon-192.png">

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600;700&family=Inter:wght@400;500;600&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="/styles/main.css">
</head>
<body>
  <header class="header header-video">
    <!-- V√≠deo de fundo -->
    <div class="header-bg">
      <video
        class="header-video-el"
        src="header.mp4"
        poster="/assets/header-poster.jpg"
        autoplay
        muted
        loop
        playsinline
      ></video>
      <div class="header-overlay" aria-hidden="true"></div>
    </div>

    <!-- Conte√∫do do header -->
    <div class="container header-row">
      <a href="/" class="brand" aria-label="In√≠cio">
        <img src="logo.png" alt="Sabor do Tempero" class="logo" id="logo">
      </a>

      <!-- Bot√£o sandu√≠che (canto direito) -->
      <button class="hamburger" id="hamburgerBtn" aria-label="Abrir menu" aria-expanded="false" aria-controls="headerMenu">
        <svg width="24" height="24" viewBox="0 0 24 24" aria-hidden="true">
          <path d="M3 6h18M3 12h18M3 18h18" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
        </svg>
      </button>

      <!-- Menu -->
      <nav class="menu-panel" id="headerMenu" hidden>
        <a id="menuWhatsApp" class="menu-item" href="#" rel="noopener">
          <svg width="18" height="18" viewBox="0 0 24 24" aria-hidden="true">
            <path fill="currentColor" d="M20 3.5A10 10 0 0 0 3.5 20L3 21.9l2-.5A10 10 0 1 0 20 3.5ZM12 20a8 8 0 0 1-4.1-1.1l-.3-.2-2.4.6.6-2.3-.2-.4A8 8 0 1 1 12 20Zm4.6-5.1c-.2-.1-1.3-.6-1.5-.7s-.4-.1-.6.1-.7.7-.9.9-.3.2-.5.1a6.5 6.5 0 0 1-3-2.6c-.2-.3 0-.4.1-.6l.4-.5c.1-.2.1-.3 0-.5l-.7-1.6c-.2-.5-.4-.4-.6-.4h-.5c-.2 0-.5.1-.7.3a2.2 2.2 0 0 0-.7 1.6c0 1 .7 2 1 2.4a10.7 10.7 0 0 0 4 3.8 4.2 4.2 0 0 0 2.4.7 2 2 0 0 0 1.3-.6 2 2 0 0 0 .4-1.2c0-.2 0-.3-.2-.4Z"/>
          </svg>
          Pedir pelo WhatsApp
        </a>

        <a id="menuInstagram" class="menu-item"
          href="https://instagram.com/sabordotempero_marmitaria"
          target="_blank" rel="noopener">
          <svg width="18" height="18" viewBox="0 0 24 24" aria-hidden="true">
            <path fill="currentColor" d="M7 2h10a5 5 0 0 1 5 5v10a5 5 0 0 1-5 5H7a5 5 0 0 1-5-5V7a5 5 0 0 1 5-5zm0 2a3 3 0 0 0-3 3v10a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3V7a3 3 0 0 0-3-3H7zm5 3.5A5.5 5.5 0 1 1 6.5 13 5.51 5.51 0 0 1 12 7.5zm0 2A3.5 3.5 0 1 0 15.5 13 3.5 3.5 0 0 0 12 9.5zM18 6.75a1.25 1.25 0 1 1-1.25 1.25A1.25 1.25 0 0 1 18 6.75z"/>
          </svg>
          Siga no Instagram
        </a>
      </nav>
    </div>
  </header>

  <main class="main">
    <div class="container">
      <h1 class="titulo-dia" id="tituloDia">Card√°pio do Dia</h1>
      <p class="data-dia" id="dataDia"></p>
      <p class="info-taxas">
        üçΩÔ∏è Prato individual a partir de <strong>R$ 25,00</strong><br>
        üöö Entrega gratuita para <strong>Rio Quente</strong> e taxa de <strong>R$ 5,00</strong> para <strong>Esplanada</strong>.
      </p><br>

      <div id="offlineAlert" class="alert alert-warning" style="display: none;">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <circle cx="12" cy="12" r="10"/>
          <line x1="12" y1="8" x2="12" y2="12"/>
          <line x1="12" y1="16" x2="12.01" y2="16"/>
        </svg>
        Voc√™ est√° offline. Mostrando √∫ltimo card√°pio salvo.
      </div>

      <section class="cardapio" id="cardapio">
        <div class="loading" id="loading">
          <div class="spinner"></div>
          <p>Carregando card√°pio...</p>
        </div>
      </section>
    </div>
  </main>

  <div class="container cta-buttons">
    <a id="btnWhatsApp" class="btn btn-whatsapp" href="#" rel="noopener">
      <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"> ... </svg>
      Pedir pelo WhatsApp
    </a>

    <!-- NOVO: bot√£o Instagram -->
    <a id="btnInstagram"
      class="btn btn-instagram"
      href="https://instagram.com/sabordotempero_marmitaria"
      target="_blank"
      rel="noopener"
      aria-label="Abrir Instagram do Sabor do Tempero">
      <!-- √çcone Instagram (SVG) -->
      <svg width="24" height="24" viewBox="0 0 24 24" aria-hidden="true">
        <path fill="currentColor" d="M7 2h10a5 5 0 0 1 5 5v10a5 5 0 0 1-5 5H7a5 5 0 0 1-5-5V7a5 5 0 0 1 5-5zm0 2a3 3 0 0 0-3 3v10a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3V7a3 3 0 0 0-3-3H7zm5 3.5A5.5 5.5 0 1 1 6.5 13 5.51 5.51 0 0 1 12 7.5zm0 2A3.5 3.5 0 1 0 15.5 13 3.5 3.5 0 0 0 12 9.5zM18 6.75a1.25 1.25 0 1 1-1.25 1.25A1.25 1.25 0 0 1 18 6.75z"/>
      </svg>
      Siga no Instagram
    </a>
  </div>

  <section class="sobre" id="secaoSobre">
    <div class="container">
      <h2 class="sobre-titulo">Sobre</h2>

      <div class="sobre-conteudo sobre-coluna">
        <figure class="sobre-fig">
          <img
            src="dona_fatima.png"
            alt="Dona F√°tima, chef e fundadora do Sabor do Tempero"
            class="sobre-foto"
            width="320"
            height="320"
            loading="lazy"
            decoding="async"
          >
          <figcaption class="sr-only">Dona F√°tima, chef e fundadora</figcaption>
        </figure>

        <div class="sobre-texto">
          <p class="sobre-nome" id="sobreNome"></p>
          <div class="sobre-info" id="sobreInfo"></div>
        </div>
      </div>
    </div>
  </section>

  <footer class="footer">
    <div class="container">
      <p class="footer-text">¬© 2025 Sabor do Tempero</p>
    </div>
  </footer>

  <script src="/scripts/app.js"></script>
  <script src="/scripts/tts.js"></script>
  <script>
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('/scripts/sw.js')
          .then(reg => console.log('Service Worker registrado:', reg))
          .catch(err => console.log('Erro ao registrar Service Worker:', err));
      });
    }

    (function(){
      const btn = document.getElementById('hamburgerBtn');
      const menu = document.getElementById('headerMenu');

      function openMenu(){
        menu.hidden = false;
        btn.setAttribute('aria-expanded','true');
        document.addEventListener('click', outsideOnce, { once:true });
        document.addEventListener('keydown', escOnce, { once:true });
      }
      function closeMenu(){
        menu.hidden = true;
        btn.setAttribute('aria-expanded','false');
      }
      function outsideOnce(e){
        if (!menu.contains(e.target) && !btn.contains(e.target)) closeMenu();
        else document.addEventListener('click', outsideOnce, { once:true });
      }
      function escOnce(e){
        if (e.key === 'Escape') closeMenu();
        else document.addEventListener('keydown', escOnce, { once:true });
      }
      btn.addEventListener('click', ()=>{
        btn.getAttribute('aria-expanded') === 'true' ? closeMenu() : openMenu();
      });

      /* Sincroniza link do menu WhatsApp com o bot√£o principal da p√°gina (se existir) */
      const mainWA = document.getElementById('btnWhatsApp');
      const menuWA = document.getElementById('menuWhatsApp');
      if (mainWA && menuWA){
        const href = mainWA.getAttribute('href') || '#';
        menuWA.setAttribute('href', href);
        menuWA.addEventListener('click', closeMenu);
      }

      const menuIG = document.getElementById('menuInstagram');
      if (menuIG) menuIG.addEventListener('click', closeMenu);
    })();
  </script>
</body>
</html>
